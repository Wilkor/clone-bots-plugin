(this["webpackJsonpblip-plugin-example"]=this["webpackJsonpblip-plugin-example"]||[]).push([[0],{164:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),s=a(6),i=a.n(s),l=a(12),u=a(7),d=(a(81),a(18)),m=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.IframeMessageProxy.sendMessage({action:"getApplication"});case 2:return t=e.sent,a=t.response,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){return d.IframeMessageProxy.sendMessage({action:"toast",content:e})},b=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.IframeMessageProxy.sendMessage({action:"startLoading"}),e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,d.IframeMessageProxy.sendMessage({action:"stopLoading"}),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.title,a=e.logo;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"dt dt--fixed"},r.a.createElement("div",{className:"dtc tl v-mid w-90"},r.a.createElement("h1",{className:"bp-fs-3 bp-c-city"},t)),r.a.createElement("div",{className:"dtc w-10"},r.a.createElement("div",{className:"dt dt--fixed"},r.a.createElement("div",{id:"logo-area",className:"dt-row tc"},a&&r.a.createElement("img",{id:"logo-img",className:"logo-img",src:a,alt:"logo"}))))),r.a.createElement("div",{className:"dt dt--fixed"},r.a.createElement("div",{className:"bp-divider-h"}))))},g=a(22),h=(a(63),a(23)),v=function(e,t){switch(t.type){case"setLanguage":return Object(h.a)(Object(h.a)({},e),{},{language:t.language.toLowerCase()});case"setLoading":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});case"setLoggedUser":return Object(h.a)(Object(h.a)({},e),{},{loggedUser:t.loggedUser});default:throw new Error("CommonReducer: invalid action called ".concat(t.type))}},E=(a(35),a(89),r.a.createContext()),y=function(e){var t=r.a.useReducer(v,{language:"pt",loading:!1}),a=Object(u.a)(t,2),n=a[0],c=a[1],o=r.a.useMemo((function(){return[n,c]}),[n]);return r.a.createElement(E.Provider,Object.assign({value:o},e))},j=(a(90),function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pv4"},r.a.createElement("div",{className:"bp-card bp-card--left-arrow"},t)))}),k=a(64),x=a(36),O=a(65),N=Object(O.create)({baseURL:"https://http.msging.net"}),w=function(e,t){return N.post("/commands",{id:e,method:"get",uri:"/buckets/blip_portal:builder_working_configuration?$take=1000"},{headers:{"Content-Type":"application/json",Authorization:t}})},_=function(e,t,a){return N.post("/commands",{id:e,method:"set",resource:t,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_published_configuration"},{headers:{"Content-Type":"application/json",Authorization:a}})},C=function(e,t,a){N.post("/commands",{id:e,method:"set",resource:t,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_working_configuration"},{headers:{"Content-Type":"application/json",Authorization:a}})},S=function(e,t){return N.post("/commands",{id:e,method:"get",uri:"/buckets/blip_portal:builder_working_flow?$take=100"},{headers:{"Content-Type":"application/json",Authorization:t}})},T=function(e,t){return N.post("/commands",{id:e,method:"get",uri:"/buckets/blip_portal:builder_working_global_actions?$take=100"},{headers:{"Content-Type":"application/json",Authorization:t}})},I=function(e,t,a){return N.post("/commands",{id:e,method:"set",resource:t,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_published_global_actions"},{headers:{"Content-Type":"application/json",Authorization:a}})},A=function(e,t){return N.post("/commands",{id:"61d82a14-adf0-4ddd-aeb1-73736eca083e",method:"set",resource:e,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_working_flow"},{headers:{"Content-Type":"application/json",Authorization:t}})},z=function(e,t,a){return N.post("/commands",{id:e,method:"set",resource:t,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_published_flow"},{headers:{"Content-Type":"application/json",Authorization:a}})},M=function(e,t,a){return N.post("/commands",{id:e,method:"set",resource:t,type:"application/json",uri:"/buckets/blip_portal%3Abuilder_working_global_actions"},{headers:{"Content-Type":"application/json",Authorization:a}})},P=function(e,t){return N.post("/commands",{id:e,method:"get",uri:"/resources?$take=100000"},{headers:{"Content-Type":"application/json",Authorization:t}})},R=function(e,t,a){return N.post("/commands",{id:e,method:"get",uri:"/resources/".concat(a)},{headers:{"Content-Type":"application/json",Authorization:t}})},D=function(e,t,a,n,r){return N.post("/commands",{id:e,method:"set",uri:encodeURI("/resources/"+n.trim()),type:a,resource:r},{headers:{"Content-Type":"application/json",Authorization:t}})},L=function(e,t){return N.post("/commands",{id:e,to:"postmaster@desk.msging.net",method:"get",uri:"/rules"},{headers:{"Content-Type":"application/json",Authorization:t}})},B=function(e,t,a){return N.post("/commands",{id:e,to:"postmaster@desk.msging.net",method:"set",uri:"/rules",type:"application/vnd.iris.desk.rule+json",resource:t},{headers:{"Content-Type":"application/json",Authorization:a}})},F=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N.post("/commands",{id:e,to:"postmaster@desk.msging.net",method:"get",uri:"/replies/".concat(a)},{headers:{"Content-Type":"application/json",Authorization:t}})},Y=function(e,t,a){return N.post("/commands",{id:"7e9045d2-1522-42ff-979b-393860be9186",method:"set",resource:e,to:"postmaster@desk.msging.net",type:"application/vnd.lime.collection+json",uri:"/replies/".concat(a)},{headers:{"Content-Type":"application/json",Authorization:t}})},H=a(29),U=a.n(H),$=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},K=(a(44),function(e){var t=e.className;return r.a.createElement("div",{id:"loading",className:"bp-loading ".concat(t)},r.a.createElement("div",{className:"bp-loading__content"},r.a.createElement("div",{className:"bp-loading1 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading2 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading3 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading4 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading5 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading6 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading7 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading8 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading9 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading10 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading11 bp-loading__circle"}),r.a.createElement("div",{className:"bp-loading12 bp-loading__circle"})))});var J=function(){var e=Object(n.useState)(localStorage.getItem("keyOne")),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(localStorage.getItem("keyTwo")),s=Object(u.a)(o,2),d=s[0],m=s[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),g=f[0],h=f[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),y=E[0],j=E[1],k=Object(n.useState)(!1),O=Object(u.a)(k,2),N=O[0],H=O[1],J=Object(n.useState)(!1),G=Object(u.a)(J,2),X=G[0],W=G[1],Z=Object(n.useState)(!1),q=Object(u.a)(Z,2),Q=q[0],V=q[1];function ee(){return(ee=Object(l.a)(i.a.mark((function e(t){var n,r,o,s,u,p,b,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),a||d){e.next=6;break}return te("Data is missing. Please check the Source and Destination Keys!!","warning","Notice!"),h(!1),e.abrupt("return",!1);case 6:if(a.includes("Key")){e.next=10;break}return te("key typed, is not a valid key!","warning","Notice!"),h(!1),e.abrupt("return",!1);case 10:if(X||N||y||Q){e.next=14;break}return te("Choose an option to clone!","warning","Notice!"),h(!1),e.abrupt("return",!1);case 14:if(!X){e.next=39;break}return e.next=17,w($(),a);case 17:return n=e.sent,r=n.data,e.next=21,_($(),r.resource,d);case 21:return e.next=23,C($(),r.resource,d);case 23:return e.next=25,S($(),a);case 25:return o=e.sent,e.next=28,A(o.data.resource,d);case 28:return e.next=30,z($(),o.data.resource,a);case 30:return e.next=32,T($(),a);case 32:return s=e.sent,e.next=35,M($(),s.data.resource,d);case 35:return e.next=37,I($(),o.data.resource,d);case 37:200===e.sent.status?(te("Your builder has been cloned successfully","success","Done!"),c(""),m(""),W(!1),h(!1)):(W(!1),te("Error cloning builder","danger","Error!"));case 39:if(!y){e.next=44;break}return e.next=42,P($(),a);case 42:"failure"!==(u=e.sent).data.status?(u.data.resource.items.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R($(),a,t);case 2:return n=e.sent,e.next=5,D($(),d,n.data.type,t,n.data.resource);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te("Your resources have been cloned successfully","success","Done!"),h(!1),j(!1)):(te("Error cloning your resources","danger","Notice!"),h(!1));case 44:if(!N){e.next=49;break}return e.next=47,L($(),a);case 47:"failure"!==(p=e.sent).data.status?(p.data.resource.items.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B($(),t,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te("Your rules have been cloned successfully","success","Done!"),h(!1),H(!1)):(h(!1),te("Error cloning your rules","danger","Notice!"));case 49:if(!Q){e.next=68;break}return e.next=52,F($(),a);case 52:if(b=e.sent,"failure"===b.data.status){e.next=65;break}return e.next=57,F($(),a);case 57:f=e.sent,f.data.resource.items.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F($(),a,t.id);case 2:return n=e.sent,delete(r=n.data.resource).total,e.next=7,Y(r,d,t.id);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te("Your answers have been successfully cloned","success","Done!"),h(!1),V(!1),e.next=68;break;case 65:te("Error cloning your answers","danger","Done!"),h(!1),V(!1);case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t,a){setTimeout((function(){p({type:t,message:e})}),900)}var ae=r.a.createElement("div",{className:"fadeIn animated",style:{padding:"30px"}},r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:""},r.a.createElement("form",{className:""},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{value:a,onChange:function(e){return t=e.target.value,c(t),void localStorage.setItem("keyOne",t);var t},type:"text",name:"origem",className:"form-control",placeholder:"Enter the source bot key.",required:!0})),r.a.createElement("div",{className:"container-switch"},r.a.createElement("label",null,r.a.createElement("span",null,"Builder: "),r.a.createElement(U.a,{onChange:function(e){W(e)},checked:X,onColor:"#3f7de8"})),r.a.createElement("label",null,r.a.createElement("span",null,"Recursos: "),r.a.createElement(U.a,{onChange:function(e){j(e)},checked:y,onColor:"#3f7de8"})),r.a.createElement("label",null,r.a.createElement("span",null,"Regras: "),r.a.createElement(U.a,{onChange:function(e){H(e)},checked:N,onColor:"#3f7de8"})),r.a.createElement("label",null,r.a.createElement("span",null,"Respostas Prontas: "),r.a.createElement(U.a,{onChange:function(e){V(e)},checked:Q,onColor:"#3f7de8"}))),r.a.createElement("div",{className:"container-buttons"},r.a.createElement("button",{type:"submit",onClick:function(e){return ee.apply(this,arguments)},style:{marginRight:"10px"},className:"bp-btn bp-btn--bot bp-btn--small"},g&&r.a.createElement(K,null),g&&r.a.createElement("span",null,"Cloning"),!g&&r.a.createElement("span",null,"Clone Bot")),r.a.createElement("button",{type:"button",onClick:function(){localStorage.removeItem("keyOne"),c(""),m("")},style:{marginRight:"10px"},className:"bp-btn bp-btn--bot bp-btn--small"},"Clear"))))),r.a.createElement(x.NotificationContainer,null));return r.a.createElement("div",{className:""},ae)},G=a(195),X=a(202),W=a(199),Z=a(205),q=a(197),Q=a(206),V=a(201),ee=a(200),te=a(204),ae=a(203),ne=a(198),re={botMarketPlace:"Key cGFyc2VtYXJrZXRwbGFjZTpwQzFXOGNuc1RmYnJ2dHRUMFFDOA==",botMarketPlaceTarget:""},ce=Object(G.a)((function(e){return{root:{margin:"auto",marginTop:"-35px",marginButton:"10px",marginLeft:"-30px"},cardHeader:{padding:e.spacing(1,2),fontFamily:"Nunito Sans, Helvetica, sans-serif"},list:{width:300,height:180,backgroundColor:e.palette.background.paper,maxHeight:200,overflow:"auto"},button:{margin:e.spacing(.5,0)}}}));function oe(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function se(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))}function ie(){Object(n.useEffect)((function(){H()}),[]);var e=ce(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),d=Object(u.a)(s,2),m=d[0],b=d[1],f=Object(n.useState)([]),h=Object(u.a)(f,2),v=h[0],E=h[1],y=Object(n.useState)(re.botMarketPlace),j=Object(u.a)(y,2),k=j[0],x=(j[1],Object(n.useState)(localStorage.getItem("keyTarget"))),O=Object(u.a)(x,2),N=(O[0],O[1],Object(n.useState)()),w=Object(u.a)(N,2),_=(w[0],w[1]),C=Object(n.useState)(),T=Object(u.a)(C,2),I=(T[0],T[1]),z=Object(n.useState)(!1),M=Object(u.a)(z,2),P=M[0],R=M[1],D=se(c,m),L=se(c,v),B=function(e){return function(){var t=c.indexOf(e),a=Object(g.a)(c);-1===t?a.push(e):a.splice(t,1),o(a)}},F=function(e){return se(c,e).length},Y=function(e){return function(){var t,a;F(e)===e.length?o(oe(c,e)):o((t=c,a=e,[].concat(Object(g.a)(t),Object(g.a)(oe(a,t)))))}},H=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S($(),k);case 2:t=e.sent,_(t),a=Object.keys(t.data.resource).filter((function(e){return"onboarding"!==e&&"fallback"!==e})),n=[],a.forEach((function(e){n.push({boxId:t.data.resource[e].id,boxText:t.data.resource[e].$title})})),b(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),""!==localStorage.getItem("keyTarget")){e.next=4;break}return J("Please check the destination key field!","warning","Notice!"),e.abrupt("return",!1);case 4:return e.next=6,localStorage.getItem("keyTarget");case 6:return t=e.sent,e.next=9,S($(),t);case 9:return a=e.sent,e.next=12,S($(),k);case 12:return n=e.sent,r=a,c=n,o=v,console.log(r),o.forEach((function(e){r.data.resource[e.boxId]=c.data.resource[e.boxId]})),e.next=20,A(r.data.resource,t);case 20:200===e.sent.status?(J("Your box has been cloned successfully","success","Done!"),H(),E([]),R(!1)):(R(!1),J("Error cloning your box","danger","Error!"));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e,t,a){setTimeout((function(){_([]),I([]),p({type:t,message:e})}),900)},G=function(t,a){return r.a.createElement(Z.a,null,r.a.createElement(q.a,{className:e.cardHeader,avatar:r.a.createElement(te.a,{onClick:Y(a),checked:F(a)===a.length&&0!==a.length,indeterminate:F(a)!==a.length&&0!==F(a),disabled:0===a.length,inputProps:{"aria-label":"all items selected"},color:"primary"}),title:t,subheader:"".concat(F(a),"/").concat(a.length," selected")}),r.a.createElement(ne.a,null),r.a.createElement(W.a,{className:e.list,dense:!0,component:"div",role:"list"},a.map((function(e){var t="transfer-list-all-item-".concat(e.boxId,"-label");return r.a.createElement(Q.a,{key:e.boxId,role:"listitem",button:!0,onClick:B(e)},r.a.createElement(ee.a,null,r.a.createElement(te.a,{checked:-1!==c.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t},color:"primary"})),r.a.createElement(V.a,{primaryTypographyProps:{style:{fontSize:14}},id:t,primary:"".concat(e.boxText)}))})),r.a.createElement(Q.a,null)))},ie=function(){return r.a.createElement("div",{className:"container-buttons"},r.a.createElement("button",{type:"submit",onClick:U,style:{marginLeft:"30px",width:"228px"},className:"bp-btn bp-btn--bot bp-btn--small"},P&&r.a.createElement(K,null),P&&r.a.createElement("span",null,"Cloning"),!P&&r.a.createElement("span",null,"Clone")))};return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",className:e.root},r.a.createElement(X.a,{item:!0},G("Choices",m)),r.a.createElement(X.a,{item:!0},r.a.createElement(X.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(ae.a,{variant:"outlined",size:"small",className:e.button,onClick:function(){E(v.concat(D)),b(oe(m,D)),o(oe(c,D))},disabled:0===D.length,"aria-label":"move selected right"},">"),r.a.createElement(ae.a,{variant:"outlined",size:"small",className:e.button,onClick:function(){b(m.concat(L)),E(oe(v,L)),o(oe(c,L))},disabled:0===L.length,"aria-label":"move selected left"},"<"))),r.a.createElement(X.a,{item:!0},G("Chosen",v))),r.a.createElement(ie,null))}var le=function(){var e=Object(n.useState)(localStorage.getItem("keyTarget")),t=Object(u.a)(e,2),a=(t[0],t[1],r.a.createElement("div",{className:"fadeIn animated",style:{padding:"30px"}},r.a.createElement("div",{className:"home"})));return r.a.createElement("div",{className:""},a,r.a.createElement(ie,null),r.a.createElement(x.NotificationContainer,null))},ue=a(67),de=a.n(ue);var me=function(){var e=Object(n.useState)({shortName:"CloneBots"}),t=Object(u.a)(e,2),a=t[0],c=(t[1],Object(n.useState)([])),o=Object(u.a)(c,2),s=(o[0],o[1],Object(n.useState)([])),d=Object(u.a)(s,2),g=(d[0],d[1],function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({type:"success",message:"Success loaded"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){b(Object(l.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,a=t.accessKey,n=t.shortName,r="Key "+btoa("".concat(n,":")+atob(a)),localStorage.setItem("keyTwo",r),localStorage.setItem("keyTarget",r),new k.BlipTabs("tab-nav"),e.next=12,g();case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))))}),[]);var h=a.shortName,v=de.a;return r.a.createElement(y,null,r.a.createElement("div",{id:"main",className:"App"},r.a.createElement(f,{title:h,logo:v}),r.a.createElement(j,{title:h},r.a.createElement("div",{id:"tab-nav",className:"bp-tabs-container"},r.a.createElement("ul",{className:"bp-tab-nav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#","data-ref":"clonebots"},"Clone bots")),r.a.createElement("li",null,r.a.createElement("a",{href:"#","data-ref":"marketplace"},"MarketPlace"))),r.a.createElement("div",{className:"bp-tab-content fl w-100","data-ref":"clonebots"},r.a.createElement(J,null)),r.a.createElement("div",{className:"bp-tab-content fl w-100","data-ref":"marketplace"},r.a.createElement(le,null))))))};a(164),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(68);a(167);d.IframeMessageProxy.listen();var be=document.getElementById("root");new pe.ResizeObserver((function(){var e;e=be.scrollHeight,d.IframeMessageProxy.sendMessage({action:"heightChange",content:e})})).observe(be),o.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a.p+"static/media/logo.2a5031da.png"},75:function(e,t,a){e.exports=a(168)},90:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.1e52ec9b.chunk.js.map